<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Mark's Site"><title>Golang Interfaces: How different they are to Java - Hello, I&rsquo;m Mark</title><link rel="shortcut icon" href=/m.ico><link rel=stylesheet href=/css/main.min.c5514d3530979d291f3497facc20da1cec870028dbc2a3630b64bab8721bbe49.css integrity="sha256-xVFNNTCXnSkfNJf6zCDaHOyHACjbwqNjC2S6uHIbvkk=" crossorigin=anonymous media=screen><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Didact+Gothic"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://markc.su/tn.png"><meta name=twitter:title content="Golang Interfaces: How different they are to Java"><meta name=twitter:description content="Originally I planned to make a new blogpost about the visitor design pattern and wanted to use Golang to show the concept for it. But because of how Golang is organized fundamentally you&rsquo;ll see that the visitor pattern doesn&rsquo;t make sense with Go.
Playing around with interfaces and trying to jumble together some thoughts via chatting I was able to better understand the big differences between Java and Go interfaces."><meta property="og:title" content="Golang Interfaces: How different they are to Java"><meta property="og:description" content="Originally I planned to make a new blogpost about the visitor design pattern and wanted to use Golang to show the concept for it. But because of how Golang is organized fundamentally you&rsquo;ll see that the visitor pattern doesn&rsquo;t make sense with Go.
Playing around with interfaces and trying to jumble together some thoughts via chatting I was able to better understand the big differences between Java and Go interfaces."><meta property="og:type" content="article"><meta property="og:url" content="https://markc.su/posts/golang-interfaces/"><meta property="og:image" content="https://markc.su/tn.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-08T07:07:57+02:00"><meta property="article:modified_time" content="2023-08-08T07:07:57+02:00"><meta property="og:site_name" content="Hello, I'm Mark"><title>Golang Interfaces: How different they are to Java</title></head><body><header class="wrap flex-container"><h1>Golang Interfaces: How different they are to Java</h1></header><main class=wrap><div class=flex-container><aside role=complementary>Tue Aug 08, 2023 &#183; 712 words<div class=tag-container><span class=tag><a href=/tags/programming/>programming</a></span>
<span class=tag><a href=/tags/golang/>golang</a></span></div></aside><hr><article role=article><p>Originally I planned to make a new blogpost about the <a href=https://refactoring.guru/design-patterns/visitor>visitor design pattern</a> and wanted to use Golang to show the concept for it. But because of how Golang is organized fundamentally you&rsquo;ll see that the visitor pattern doesn&rsquo;t make sense with Go.</p><p>Playing around with interfaces and trying to jumble together some thoughts via chatting I was able to better understand the big differences between Java and Go interfaces.</p><p><em>Readers note: To not distract myself too much from studying, I didn&rsquo;t want to invest too much time into typo and grammar checking. So there might be some mistakes. Whoopsie daysie</em></p><h1 id=the-basics class=anchor-link><a href=#the-basics>The Basics<span class=pilcrow>&nbsp;¶</span></a></h1><h2 id=structs class=anchor-link><a href=#structs>Structs<span class=pilcrow>&nbsp;¶</span></a></h2><p>Without whacking too much around the bush; Golang doesn&rsquo;t have classes or objects in the OOP-sense. The most similar concept to Java objects that Go has are C-like structs that allow you to pack named attributes into a packet.</p><p>A simple example would be this <code>Element</code> struct with 3 attributes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Element</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>attr1</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>attr2</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>flags</span> <span style=color:#66d9ef>uint16</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We can then create and access the struct as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>elem</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Element</span>{<span style=color:#ae81ff>42</span>, <span style=color:#e6db74>&#34;Shrek&#34;</span>, <span style=color:#ae81ff>0b10010</span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>elem</span>.<span style=color:#a6e22e>attr2</span>) <span style=color:#75715e>// prints &#39;Shrek&#39;
</span></span></span></code></pre></div><h2 id=methods class=anchor-link><a href=#methods>Methods<span class=pilcrow>&nbsp;¶</span></a></h2><p>Say we want to now add the class method <code>foo()</code> to our Element, so that we can do <code>elem.foo()</code> and have it do some very important operations for that instantiated element, like increase <code>attr1</code> by 1. In Java, we would add the method under the scope of the class. In Go we just clap a new function basically anywhere we want to and in the first parantheses pair we designate for what type of objects this function should exist for. This requires organizing structs and methods in a different way.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>e</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Element</span>) <span style=color:#a6e22e>foo</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>attr1</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>*Note the <code>*</code> before <code>Element</code>. It ensures that inside <code>foo()</code> we have access to the original struct. By default, without the <code>*</code>, Golang copies structs into methods and functions.</p><h1 id=interfaces class=anchor-link><a href=#interfaces>Interfaces<span class=pilcrow>&nbsp;¶</span></a></h1><p>Now I hope that very rough and quick introduction to structs and methods in Go was enough for you to clap it on your CV. Now we&rsquo;re gonna hop into interfaces.</p><p>Assuming you come from or know Java, you&rsquo;re probably already getting impatient and asking yourself how you can build complex trees of with subclasses and interfaces. Afterall, if your project doesn&rsquo;t have three interfaces, have to subclass two times just to create a single class of a Point, are you even java-ing correctly?</p><p>Go is quite different in this aspect. It does not have any subtyping or <em>explicit</em> inheritance. This should be easier with an example.</p><p>An interface is similarily constructed as a struct in Go. The main difference is that instead of defining attributes, you can only define methods in interfaces:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Shrek</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roar</span>() <span style=color:#75715e>// implicitly void
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>getOutOfMySwamp</span>() <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>So how do I now create a struct which is a subtype of this amazing <code>Shrek</code>? You don&rsquo;t.</p><blockquote><p>The sole purpose of an interface in Go is to let us define the methods a struct <strong>requires</strong> when passed into a function.</p></blockquote><p>This might be a mouthful at first. Reread this sentence after the next example.</p><p>Say we create a function <code>compareScores(a, b)</code> where we want to compare the scores of two structs. Now in the end we don&rsquo;t really care what structs are passed into the function for <code>a</code> and <code>b</code>. Since the only method we&rsquo;ll call anyway is just <code>x.getScore()</code> our only requirement is that <code>a</code> and <code>b</code> have the method <code>getScore() int</code>.</p><p>Sure we could create a struct and use that as our type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ScoreStruct</span> <span style=color:#66d9ef>struct</span>{}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>s</span> <span style=color:#a6e22e>ScoreStruct</span>) <span style=color:#a6e22e>getScore</span>() <span style=color:#66d9ef>int</span> { <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>compareScores</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#a6e22e>ScoreStruct</span>) {}
</span></span></code></pre></div><p>But that would now only allow for that single <code>ScoreStruct</code> to be added and no variations. A better approach would be to create an interface:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ScoreInterface</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>getScore</span>() <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>compareScores</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#a6e22e>ScoreInterface</span>) {}
</span></span></code></pre></div><p>The way this is right now would already allow for the <code>ScoreStruct</code> above. But in general terms, it <strong>allows for any struct which has the method <code>getScore() int</code></strong>.</p><p><em>Now hop up to the afor mentioned sentence and reread it. Does it make sense now?</em></p><h1 id=conclusion class=anchor-link><a href=#conclusion>Conclusion?<span class=pilcrow>&nbsp;¶</span></a></h1><p>This way of interfacing brings a different approach to programming which is quite interesting and fun to get into. Can dearly recommend to try out Go when you got the time.</p></div></article></div><nav role=navigation class="flex-container bottom-menu"><hr><p><script src=https://utteranc.es/client.js repo=markbeep/markbeep.github.io issue-term=pathname label=comments theme=dark-blue crossorigin=anonymous async></script><a href=/posts>back</a>
&#183;
<a href=/posts>posts</a>
&#183;
<a href=https://github.com/markbeep>github</a>
&#183;
<a href=/polyring>polyring</a>
&#183;
<a href=/about>who is mark?</a>
&#183;
<a href=/>main</a></p></nav></main><footer class="flex-container footer">Call me Sam, a theme for Hugo.</footer></body></html>