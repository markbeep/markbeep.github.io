<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Mark's Site"><title>Learning the Nimble Nim - Hello, I&rsquo;m Mark</title><link rel="shortcut icon" href=/m.ico><link rel=stylesheet href=/css/main.min.8022aa4b53ce57ff6f9cc4594360bfc15f2baeb5a018d0c68826f12da49a51e0.css integrity="sha256-gCKqS1POV/9vnMRZQ2C/wV8rrrWgGNDGiCbxLaSaUeA=" crossorigin=anonymous media=screen><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}}</script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Didact+Gothic"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://markc.su/tn.png"><meta name=twitter:title content="Learning the Nimble Nim"><meta name=twitter:description content="Table of Contents&nbsp;¶  What is Nim? Why? The Surprises  Variables Switch Cases For Loops Procedures Arrays Objects   Conclusion  What is Nim?&nbsp;¶ Nim does a good job explaining what it is in a short way on their website:
 Nim is a statically typed compiled systems programming language. It combines successful concepts from mature languages like Python, Ada and Modula.
 But that quote only covers a tiny portion of what Nim really is."><meta property="og:title" content="Learning the Nimble Nim"><meta property="og:description" content="Table of Contents&nbsp;¶  What is Nim? Why? The Surprises  Variables Switch Cases For Loops Procedures Arrays Objects   Conclusion  What is Nim?&nbsp;¶ Nim does a good job explaining what it is in a short way on their website:
 Nim is a statically typed compiled systems programming language. It combines successful concepts from mature languages like Python, Ada and Modula.
 But that quote only covers a tiny portion of what Nim really is."><meta property="og:type" content="article"><meta property="og:url" content="https://markc.su/posts/learning_nim/"><meta property="og:image" content="https://markc.su/tn.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-09T14:38:03+02:00"><meta property="article:modified_time" content="2021-05-09T14:38:03+02:00"><meta property="og:site_name" content="Hello, I'm Mark"><title>Learning the Nimble Nim</title></head><body><header class="wrap flex-container"><h1>Learning the Nimble Nim</h1></header><main class=wrap><div class=flex-container><aside role=complementary>Sun May 09, 2021 &#183; 2399 words<div class=tag-container><span class=tag><a href=/tags/programming/>programming</a></span>
<span class=tag><a href=/tags/nim/>nim</a></span></div></aside><hr><article role=article><div style=text-align:justify><h1 id=table-of-contents class=anchor-link><a href=#table-of-contents>Table of Contents<span class=pilcrow>&nbsp;¶</span></a></h1><ul><li><a href=#what-is-nim>What is Nim?</a></li><li><a href=#why>Why?</a></li><li><a href=#the-surprises>The Surprises</a><ul><li><a href=#variables>Variables</a></li><li><a href=#switch-cases>Switch Cases</a></li><li><a href=#for-loops>For Loops</a></li><li><a href=#procedures>Procedures</a></li><li><a href=#arrays>Arrays</a></li><li><a href=#objects>Objects</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul><h1 id=what-is-nim class=anchor-link><a href=#what-is-nim>What is Nim?<span class=pilcrow>&nbsp;¶</span></a></h1><p>Nim does a good job explaining what it is in a short way on their <a href=https://nim-lang.org/>website</a>:</p><blockquote><p>Nim is a statically typed compiled systems programming language. It combines successful concepts from mature languages like Python, Ada and Modula.</p></blockquote><p>But that quote only covers a tiny portion of what Nim really is. In my journey of learning Nim I plan to post about my progress on this blog. Maybe I can even awaken your interest for a new language you&rsquo;ve never heard of before.</p><hr><h1 id=why class=anchor-link><a href=#why>Why?<span class=pilcrow>&nbsp;¶</span></a></h1><p>I dunno. I didn&rsquo;t really have a reason to learn a new language. I learned about Nim when <a href=https://xyquadrat.ch/>Julian</a> recommended some cool new low-level languages including <a href=https://ziglang.org/>Zig</a>, <a href=https://crystal-lang.org/>Crystal</a> and Nim. I looked into each and Nim syntax was the one that appealed the most to me. Python was my previous most used language, so I was familiar with indentation in programming. Appealing points of Nim are it&rsquo;s fairly easy to understand syntax and it being a fairly <a href=https://github.com/kostya/benchmarks>fast language</a>.</p><p>I decided to start learning by following the <a href=https://nim-lang.org/docs/tut1.html>tutorial</a> on the official nim docs. I additionally started working on a Discord bot so I could test out different things I learned while handling user input and reading into Nim libraries written by other users.</p><hr><h1 id=the-surprises class=anchor-link><a href=#the-surprises>The Surprises<span class=pilcrow>&nbsp;¶</span></a></h1><p>Now to the meat of the post. These are the basics of Nim which all get covered in the first part of the Nim tutorial and are used for any project you do with Nim. Before starting to learn Nim I only knew Python and Java very well, so some of these things might be surprising for me, but normal for you. Please do tell me about anything you find similar to another language.</p><hr><h3 id=variables class=anchor-link><a href=#variables>Variables<span class=pilcrow>&nbsp;¶</span></a></h3><p>Starting out with the basics of Nim: Nim is a statically typed language. Meaning variables have a fixed type set to them upon initialization. This can be done in multiple ways:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> x: <span style=color:#66d9ef>int</span>  <span style=color:#75715e># by default a 64-bit int</span>
<span style=color:#66d9ef>var</span> s: <span style=color:#66d9ef>string</span>  <span style=color:#75715e># string with fixed length</span>
<span style=color:#66d9ef>var</span> b: uint8  <span style=color:#75715e># unsigned 8-bit int</span>
</code></pre></div><p>Note that <code>#</code> are used for comments just like in Python.
But Nim allows us to leave out a lot of things to cut down on code and make it more readable.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span>
    x, y, z: <span style=color:#66d9ef>int8</span>
    s <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;this is a string&#34;</span>
    f <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0&#39;f32</span>  <span style=color:#75715e># 32-bit float</span>
</code></pre></div><p>Additionally it&rsquo;s even possible to execute code when assigning variables. For example in the following code snippet we assign the factorial of 4 to the variable <code>fact</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> fact <span style=color:#f92672>=</span> (<span style=color:#66d9ef>var</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> <span style=color:#ae81ff>1</span>..<span style=color:#ae81ff>4</span>: x <span style=color:#f92672>*=</span> i; x)
</code></pre></div><p>This can also be written as</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> fact <span style=color:#f92672>=</span> (
    <span style=color:#66d9ef>var</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> <span style=color:#ae81ff>1</span>..<span style=color:#ae81ff>4</span>:
        x <span style=color:#f92672>*=</span> i
    x
)
</code></pre></div><p>Nim has different ways to initialize variables. These include <code>var</code>,<code>let</code> and <code>const</code>. <code>var</code> is for assigning variables which can be re-assigned at a later point. <code>let</code> is similar to <code>var</code>, but is only for single assignment variables. Meaning the values can&rsquo;t be changed once initialized. <code>const</code> variables are initialized during compiling, meaning they need to be computable at compile time. These can then not be changed at runtime.</p><hr><h3 id=switch-cases class=anchor-link><a href=#switch-cases>Switch Cases<span class=pilcrow>&nbsp;¶</span></a></h3><p>Switch cases might come as a familiar concept, as they exist in most other language (<a href=https://towardsdatascience.com/switch-case-statements-are-coming-to-python-d0caf7b2bfd3>Including Python 3.10</a>). Usually each case is for a single case, which makes it often tedious if you need to cover a lot different values for each case. Nim takes this a step further and allows you to define a range of values that hold for a case.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>9</span>
<span style=color:#66d9ef>case</span> x:
<span style=color:#66d9ef>of</span> <span style=color:#ae81ff>1</span>..<span style=color:#ae81ff>2</span>: echo <span style=color:#e6db74>&#34;1 &lt;= x &lt;= 2&#34;</span>
<span style=color:#66d9ef>of</span> <span style=color:#ae81ff>3</span>..<span style=color:#ae81ff>5</span>: echo <span style=color:#e6db74>&#34;3 &lt;= x &lt;= 5&#34;</span>
<span style=color:#66d9ef>of</span> <span style=color:#ae81ff>6</span>..<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>10</span>: echo <span style=color:#e6db74>&#34;6 &lt;= x &lt; 10&#34;</span>
<span style=color:#66d9ef>else</span>: echo <span style=color:#e6db74>&#34;neither&#34;</span>
<span style=color:#75715e># --&gt; 6 &lt;= x &lt; 10</span>
</code></pre></div><p>Something to take note of, this also works for arrays of any type, as long as that array is evaluated at compile time. Meaning we have to use <code>const</code> for these arrays.</p><hr><h3 id=for-loops class=anchor-link><a href=#for-loops>For Loops<span class=pilcrow>&nbsp;¶</span></a></h3><p>For anybody that has used Python, for loops in Nim will come as very familiar. They are structured in the same way.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> <span style=color:#ae81ff>1</span>..<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>10</span>:
    echo i
<span style=color:#75715e># --&gt; 1 2 3 4 5 6 7 8 9 all on separate lines</span>
</code></pre></div><p>This prints all numbers from 1 to 10 exclusive. We can also iterate over iterables like arrays in the same manner. Optionally, it&rsquo;s possible to define two variables in the for loop. The first one will then be assigned the index and the second the value.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> arr <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>55</span>, <span style=color:#ae81ff>555</span>, <span style=color:#ae81ff>5555</span><span style=color:#f92672>]</span>
<span style=color:#66d9ef>for</span> idx, val <span style=color:#f92672>in</span> arr:
    echo (idx, val)
<span style=color:#75715e># --&gt; (0, 5)</span>
<span style=color:#75715e># --&gt; (1, 55)</span>
<span style=color:#75715e># --&gt; (2, 555)</span>
<span style=color:#75715e># --&gt; (3, 5555)</span>
</code></pre></div><hr><h3 id=procedures class=anchor-link><a href=#procedures>Procedures<span class=pilcrow>&nbsp;¶</span></a></h3><p>Procedures are Nim&rsquo;s way of calling their methods or functions. This is the part that really starts to make Nim shine.
Let&rsquo;s look at an example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>combine</span>(a, b: <span style=color:#66d9ef>string</span>): <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span>
    <span style=color:#75715e># the &amp; operator concats two strings</span>
    a <span style=color:#f92672>&amp;</span> b
echo combine(<span style=color:#e6db74>&#34;Hello &#34;</span>, <span style=color:#e6db74>&#34;there&#34;</span>)
<span style=color:#75715e># --&gt; General Kenobi (jk it returns the line below)</span>
<span style=color:#75715e># --&gt; Hello there</span>
</code></pre></div><p>This is already a full procedure. To explain it in a bit more detail. This is a procedure called <code>foo</code>, which takes the two string parameters <code>a</code> and <code>b</code>. The <code>string =</code> part indicates that this procedure returns a value of type string. The parameters of a procedure require a defined type. Just like in Java this then allows for overloading of methods; having multiple methods with the same name, but different parameters. We can use this to our advantage if we wanted to create a similar <code>combine</code> function, which combines integers instead.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>combine</span>(a, b: <span style=color:#66d9ef>int</span>): <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span>
    <span style=color:#75715e># the $ operator turns an int into a string</span>
    <span style=color:#66d9ef>return</span> <span style=color:#f92672>$</span>a <span style=color:#f92672>&amp;</span> <span style=color:#f92672>$</span>b
echo combine(<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>20</span>)
<span style=color:#75715e># --&gt; 420</span>
</code></pre></div><p>Something I found extremely interesting, is that just like a lot of things in Nim, the <code>return</code> statement is optional. In the above example, it was very well possible to leave out the return statement, I only put it there for demonstration purposes. If there is no return statement given <strong>OR</strong> the <code>result</code> variable is not assigned to anything, the last line will be taken as the return value.
We can rewrite the above example in the following ways which all result in the same result:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>combine</span>(a, b: <span style=color:#66d9ef>int</span>): <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span>
    <span style=color:#f92672>$</span>a <span style=color:#f92672>&amp;</span> <span style=color:#f92672>$</span>b
<span style=color:#66d9ef>proc </span><span style=color:#a6e22e>combine</span>(a, b: <span style=color:#66d9ef>int</span>): <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span>
    result <span style=color:#f92672>=</span> <span style=color:#f92672>$</span>a <span style=color:#f92672>&amp;</span> <span style=color:#f92672>$</span>b
</code></pre></div><p>But that only scrapes the start of what can be done with procedures in Nim. Just like in Python, we can set default values for parameters. This is something that is a big annoyance in Java, as there you need to create a new method for each default parameter.</p><p>It&rsquo;s also possible to name what variable you want to assign to what exactly, which is shown with <code>b</code> and <code>d</code> in the below example.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>combine</span>(a<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, b<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, c<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>, d<span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>): <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span>
    <span style=color:#f92672>$</span>a <span style=color:#f92672>&amp;</span> <span style=color:#f92672>$</span>b <span style=color:#f92672>&amp;</span> <span style=color:#f92672>$</span>c <span style=color:#f92672>&amp;</span> <span style=color:#f92672>$</span>d
combine(d<span style=color:#f92672>=</span><span style=color:#ae81ff>69</span>, b<span style=color:#f92672>=</span><span style=color:#ae81ff>666</span>)
<span style=color:#75715e># --&gt; 1666369</span>
</code></pre></div><p>Now see how I used the <code>$</code> operator to turn integers into strings. Why can&rsquo;t we just do <code>a & b & c & d</code> for integers? That&rsquo;s because it&rsquo;s not defined yet. But we can define it ourselves. After all, Nim has operator overloading. We can make our custom operators in the following way.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>`&amp;`</span>(a, b: <span style=color:#66d9ef>int</span>): <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span>
    <span style=color:#f92672>$</span>a <span style=color:#f92672>&amp;</span> <span style=color:#f92672>$</span>b
echo (<span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>&amp;</span> (<span style=color:#ae81ff>3</span> <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>4</span>)
<span style=color:#75715e># --&gt; 1234</span>
</code></pre></div><p>Operators can be called in multiple different ways. If you for example wanted to inflict pain on the person reading your code, you could do the following:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim>echo `<span style=color:#f92672>==</span>`(`<span style=color:#f92672>+</span>`(<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>11</span>), `<span style=color:#f92672>*</span>`(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>8</span>))
<span style=color:#75715e># --&gt; true</span>
<span style=color:#75715e># This is the same as simply</span>
echo <span style=color:#ae81ff>5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>11</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>8</span>
<span style=color:#75715e># --&gt; true</span>
</code></pre></div><p>This then also leads into the fact that normal procedures can be called in a of different ways. Let&rsquo;s take the following procedure which simply puts two square brackets on each side of the given word.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#f92672>import</span> strformat  <span style=color:#75715e># this allows us to format strings</span>
<span style=color:#66d9ef>proc </span><span style=color:#a6e22e>wrap</span>(w: <span style=color:#66d9ef>string</span>): <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span>
    <span style=color:#e6db74>fmt&#34;[[{w}]]&#34;</span>
</code></pre></div><p>We can now call this in different way, all resulting in the same result.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim>echo wrap(<span style=color:#e6db74>&#34;kek&#34;</span>)
echo wrap <span style=color:#e6db74>&#34;kek&#34;</span>
echo <span style=color:#e6db74>&#34;kek&#34;</span>.wrap
<span style=color:#75715e># --&gt; [[kek]]</span>
</code></pre></div><p>Multiple ways of doing something, all resulting in the same outcome, is a recurring theme in Nim. While this can be a major turn off for a lot of people,
that is something which simply needs getting used to and and it leads to less problems than one might think.</p><hr><h3 id=arrays class=anchor-link><a href=#arrays>Arrays<span class=pilcrow>&nbsp;¶</span></a></h3><p>Just like in pretty much every other language, Nim also has arrays. Arrays in Nim have fixed size which needs to be set upon initialization. This can be done in multiple ways (a trending pattern in Nim).
One of the ways is to create a new type which can then be used again and again afterwards.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>type</span>
    fiverArray <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span><span style=color:#f92672>[</span><span style=color:#ae81ff>5</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>]</span>  <span style=color:#75715e># 5 long array type</span>
<span style=color:#66d9ef>var</span> a: fiverArray  <span style=color:#75715e># [0, 0, 0, 0, 0]</span>
<span style=color:#66d9ef>var</span> b: fiverArray  <span style=color:#75715e># new array also with [0, 0, 0, 0, 0]</span>
</code></pre></div><p>We can also just define the array type upon initialization or already fill the array with the elements we want:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> c: <span style=color:#66d9ef>array</span><span style=color:#f92672>[</span><span style=color:#ae81ff>5</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>]</span>
<span style=color:#66d9ef>var</span> d <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span><span style=color:#f92672>]</span>
</code></pre></div><p>These arrays are then just like arrays in most other languages. Index 0 is the first element and the last element has index $n-1$.
But what if you are one of those people that like to start index on 1? 500? Or maybe even -2147483648? Don&rsquo;t you worry, Nim has got your back.
It allows you to index at any value you want and end at any index you want (in the 32-bit signed int range). We can accomplish this amazing feat in the following
manner:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> matlab: <span style=color:#66d9ef>array</span><span style=color:#f92672>[</span><span style=color:#ae81ff>1</span>..<span style=color:#ae81ff>100</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>]</span>  <span style=color:#75715e># an array with index 1 &lt;= i &lt;= 100 for the matlab users</span>
<span style=color:#66d9ef>var</span> wtf: <span style=color:#66d9ef>array</span><span style=color:#f92672>[</span>low(<span style=color:#66d9ef>int32</span>).<span style=color:#66d9ef>int</span>..<span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>string</span><span style=color:#f92672>]</span>  <span style=color:#75715e># a string array starting at -2147483648 up to 0</span>
</code></pre></div><p>This is something I have yet to find a use of, but if you have any ideas, don&rsquo;t hesitate to comment your ideas below.</p><p>Now arrays are all fine and dandy, but no language is complete without a linked list implementation. Sometimes you just don&rsquo;t know how many elements you
need in the beginning and creating a giant array each time is just horrible and inefficient.
Nim&rsquo;s implementation of lists is called <em>sequences</em> and they can be created very simply. Sequences always start index at 0. Meaning we lose our weirdly indexed arrays if we turn them into sequences :(</p><p>The <code>@</code> operator can be used to turn arrays into sequences:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> s: <span style=color:#66d9ef>seq</span><span style=color:#f92672>[</span><span style=color:#66d9ef>int</span><span style=color:#f92672>]</span>  <span style=color:#75715e># creates an empty list for ints</span>
<span style=color:#66d9ef>var</span> q: <span style=color:#f92672>@[</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span><span style=color:#f92672>]</span>  <span style=color:#75715e># creates sequence out of the array</span>
<span style=color:#66d9ef>var</span> wtfPlus: <span style=color:#f92672>@</span>wtf  <span style=color:#75715e># makes our giant array into a sequenec</span>
</code></pre></div><p>Elements can be added to sequences using the <code>.add()</code> procedure:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>var</span> s: <span style=color:#66d9ef>seq</span><span style=color:#f92672>[</span><span style=color:#66d9ef>string</span><span style=color:#f92672>]</span>
<span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> <span style=color:#ae81ff>1</span>..<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>10</span>:
    s.add(<span style=color:#f92672>$</span>i <span style=color:#f92672>&amp;</span> <span style=color:#e6db74>&#34;.&#34;</span>)
echo s
<span style=color:#75715e># --&gt; @[&#34;1.&#34;, &#34;2.&#34;, &#34;3.&#34;, &#34;4.&#34;, &#34;5.&#34;, &#34;6.&#34;, &#34;7.&#34;, &#34;8.&#34;, &#34;9.&#34;]</span>
</code></pre></div><p>One thing you might have noticed in the above code is that yes, lists and arrays when printed actually show the contents of the list, instead of the object reference or whatever other languages
usually do.</p><hr><h3 id=objects class=anchor-link><a href=#objects>Objects<span class=pilcrow>&nbsp;¶</span></a></h3><p>The last thing I&rsquo;ll cover in this post is objects. Nim is not really an object-oriented programming language, but it still has a lot of powerful OOP techniques.
In part 2 of the Nim tutorial a big part of the focus lies on objects. In this post I will only cover the basics that get covered in the first part of the tutorial.</p><p>We define a new <code>Person</code> object with the properties <code>name</code> and <code>birthyear</code> in the following manner:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>type</span>
    Person <span style=color:#f92672>=</span> <span style=color:#66d9ef>object</span>
        name: <span style=color:#66d9ef>string</span>
        birthyear: <span style=color:#66d9ef>int</span>
</code></pre></div><p>We can now create new Person objects with a name and a birthyear similar to how it&rsquo;s done in other languages. In the below example we create a Person object for <em>pepe</em>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim>pepe <span style=color:#f92672>=</span> Person(name: <span style=color:#e6db74>&#34;pepe&#34;</span>, birthyear: <span style=color:#ae81ff>2005</span>)
</code></pre></div><p>Adding methods for an object is a bit different than in other languages. The Person object is not a class, like it&rsquo;s called in other
languages. It&rsquo;s simply an object with properties.</p><p>Fitting to the theme of Nim, we create procedures for certain objects in the following manner. Say we want to create a method <code>eat()</code> so a Person can eat. This procedure is created just like any other procedure.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>eat</span>(p: Person): void <span style=color:#f92672>=</span>
    echo p.name <span style=color:#f92672>&amp;</span> <span style=color:#e6db74>&#34; is eating.&#34;</span>
</code></pre></div><p>Because the procedure requires a Person object as a parameter, it can only be called with a Person object. Meaning it handles just like if this method was tied to the Person object. The <code>eat</code> procedure can now be called in the following ways:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim>pepe.eat()
eat pepe
eat(pepe)
<span style=color:#75715e># All three result in --&gt; pepe is eating</span>
</code></pre></div><p>Depending on how english grammar-like you want your code to be, one might be more fitting than the other.</p><hr><h1 id=conclusion class=anchor-link><a href=#conclusion>Conclusion<span class=pilcrow>&nbsp;¶</span></a></h1><p>In this post I tried to show some things of Nim, which have surprised me or were new. One of the &ldquo;issues&rdquo; which could become a problem
when using Nim in a team or when reading other people&rsquo;s code is the amount of ways you can do certain things. It can quickly become confusing if code is not written clearly.
There are many ways to write Nim so it&rsquo;s unreadable and deserves an award in a code obfuscation tournament, but there are also tons of ways to make code be easy to read and quick to understand.
In group projects it&rsquo;s important to agree on a standard way of syntax and to stay consistent throughout the project.</p><p>Another big plus is how much fun Nim can be to write. It has easy to learn syntax and the error handling is amazing, giving you a good idea on why there&rsquo;s an error for whatever
shenanigans you&rsquo;re trying to throw together.</p><p>If this post has in any way intrigued you for Nim, don&rsquo;t hesitate to check out the <a href=https://nim-lang.org/docs/tut1.html>tutorial</a>, it explains the basics very well and you&rsquo;ll be up and
coding in a new programming language in no time.</p><p>I&rsquo;m also very eager to hear your opinions on Nim and this post in the comments. If you find any mistakes or I messed up somewhere, don&rsquo;t be afraid to hit me up.</p></div></article></div><nav role=navigation class="flex-container bottom-menu"><hr><p><script src=https://utteranc.es/client.js repo=markbeep/markbeep.github.io issue-term=pathname label=comments theme=dark-blue crossorigin=anonymous async></script><a href=/posts>back</a>
&#183;
<a href=/posts>posts</a>
&#183;
<a href=https://github.com/markbeep>github</a>
&#183;
<a href=/polyring>polyring</a>
&#183;
<a href=/about>who is mark?</a>
&#183;
<a href=/>main</a></p></nav></main><footer class="flex-container footer">Call me Sam, a theme for Hugo.</footer></body></html>